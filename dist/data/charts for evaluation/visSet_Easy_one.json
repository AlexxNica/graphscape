[
  { "description": "US population in 1860", "data": {"url": "/data/population.json"}, "transform": { "filter": "datum.year == 1860", "calculate": [ { "field": "Sex", "expr": "if(datum.sex==1,'Male','Female')" }, { "field": "Age", "expr": "round((datum.age-0.1)/10)*10" } ] }, "mark": "bar", "encoding": { "y": { "field": "Age", "type": "ordinal", "scale": {"bandSize": 17} }, "x": { "aggregate": "sum", "field": "people", "type": "quantitative", "axis": {"title": "Population","ticks": 3} }, "color": {"field": "Sex","type": "nominal"} }, "config": {"cell": {"width": 100,"height": 100}} },
  { "description": "US population in 2000", "data": {"url": "/data/population.json"}, "transform": { "filter": "datum.year == 2000", "calculate": [ { "field": "Sex", "expr": "if(datum.sex==1,'Male','Female')" }, { "field": "Age", "expr": "round((datum.age-0.1)/10)*10" } ] }, "mark": "bar", "encoding": { "y": { "field": "Age", "type": "ordinal", "sort": "descending", "scale": {"bandSize": 17} }, "x": { "aggregate": "sum", "field": "people", "type": "quantitative", "axis": {"title": "Population", "ticks": 3} }, "column": {"field": "Sex","type": "nominal", "axis": {"title": "","labels": false}}, "color": {"field": "Sex","type": "nominal"} }, "config": {"cell": {"width": 100,"height": 100} } },
  { "description": "US population in 1860", "data": {"url": "/data/population.json"}, "transform": { "filter": "datum.year == 1860", "calculate": [ { "field": "Sex", "expr": "if(datum.sex==1,'Male','Female')" }, { "field": "Age", "expr": "round((datum.age-0.1)/10)*10" } ] }, "mark": "bar", "encoding": { "y": { "field": "Age", "type": "ordinal", "scale": {"bandSize": 17} }, "x": { "aggregate": "sum", "field": "people", "type": "quantitative", "axis": {"title": "Population", "ticks": 3} }, "column": {"field": "Sex","type": "nominal", "axis": {"title": "","labels": false}}, "color": {"field": "Sex","type": "nominal"} }, "config": {"cell": {"width": 100,"height": 100} } },
  { "description": "US population in 1860", "data": {"url": "/data/population.json"}, "transform": { "filter": "datum.year == 1860", "calculate": [ { "field": "Sex", "expr": "if(datum.sex==1,'Male','Female')" }, { "field": "Age", "expr": "round((datum.age-0.1)/10)*10" } ] }, "mark": "bar", "encoding": { "y": { "field": "Age", "type": "ordinal", "sort": "descending", "scale": {"bandSize": 17} }, "x": { "aggregate": "sum", "field": "people", "type": "quantitative", "axis": {"title": "Population","ticks": 3} }, "column": { "field": "Sex", "type": "nominal", "axis": {"title": "","labels": false} }, "color": {"field": "Sex","type": "nominal"} }, "config": {"cell": {"width": 100,"height": 100}} }
]

